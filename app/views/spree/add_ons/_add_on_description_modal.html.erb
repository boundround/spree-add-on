<% random = Random.rand(10000)%>
<%= content_tag(:div, id: "modal-#{random}-#{add_on.hash}", class: 'modal fade', tabindex: -1, role: 'dialog', 'aria-hidden'=>true) do %>
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h3 class="modal-title" id="myModalLabel"><%= add_on.name %></h3>
    </div>
    <div class="modal-body">
      <p><%= add_on.description %></p>
      <p>
        <div>
          <strong><%= I18n.t('spree.addons.cost') %>:</strong> <%= add_on.price_in(current_currency).display_amount %>
        </div>
        <% if add_on.expiration_days %>
          <div>
            <strong><%= I18n.t('spree.addons.expires') %>:</strong> <%= l(DateTime.now + add_on.expiration_days.days, format: :long) %>
          </div>
        <% end %>
      </p>
    </div>
    <div class="modal-footer">
      <button type="button" class="pull-right close btn btn-default" data-dismiss="modal">Close</button>
    </div>
  </div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
<% end %>

<%= link_to('#', class: :btn, data: { toggle: 'modal', target: "#modal-#{random}-#{add_on.hash}" }) do %>
  <span class='add-on-info'>[&nbsp;<strong>?</strong>&nbsp;]</span>
<% end %>
